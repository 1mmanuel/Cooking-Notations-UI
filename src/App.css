/* Add this block at the very beginning of your App.css file */
@font-face {
  font-family: "MyFont";
  src: local("MyFont"),
    url(./fonts/fonnts.com-DegularDemo-Black.otf) format("opentype");
  /* other formats include: 'woff2', 'truetype, 'opentype',
                            'embedded-opentype', and 'svg' */
}

body {
  font-family: "MyFont", sans-serif;
  /* margin: 20px; */ /* REMOVE this */
  padding: 20px 0; /* ADD vertical padding (optional, adjust as needed) */
  background-color: #f4f4f4;
  margin: 0; /* Ensure no default body margin interferes */
}

.app-container {
  display: flex;
  gap: 30px;
  flex-wrap: wrap; /* Allow wrapping on smaller screens */

  /* Centering and Sizing */
  max-width: 1100px; /* Or your preferred max width */
  margin: 20px auto; /* Center horizontally, add some top/bottom margin */
  padding: 20px; /* Padding inside the container */
  box-sizing: border-box; /* Include padding/border in width calculation */

  /* --- ADD --- */
  border: 1px solid #ccc; /* Adjust color/width as needed (e.g., #bbb, 2px) */
  border-radius: 15px; /* Optional: Rounded corners */
  background-color: #f7a541; /* Give the container a solid background */
  background-image: url("designs/Pattern\ MASSIVE.svg "); /* Your pattern */
  background-size: 2500px;
  background-blend-mode: multiply;
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);
  /* --- END ADD --- */
}

/* Keep the rest of the styles for .left-panel, .right-panel, etc. */
/* Around line 49 */
.left-panel {
  flex: 1; /* Keep this for horizontal sizing */
  /* --- ADD THESE --- */
  display: flex;
  flex-direction: column;
  gap: 20px; /* Space between form and palette */
  /* --- END ADD --- */
  min-width: 250px;
}

.right-panel {
  flex: 3;
  /* Add flex-basis for better control if needed, e.g., flex-basis: 700px; */
  /* Ensure the grid inside doesn't push the container too wide */
  min-width: 0; /* Allow shrinking if necessary */
}

/* Icon Styling */
.icon-wrapper {
  display: inline-flex; /* Use flex to center content */
  justify-content: center;
  align-items: center;
  /* Keep dimensions if needed, or let parent control */
  /* Example: width: 30px; height: 30px; */ /* This is set below specifically for action-item */
  overflow: hidden; /* Hide any part of SVG that might overflow if not scaled */
}

.svg-icon {
  display: block; /* Remove extra space below inline SVGs */
  /* REMOVE fixed width/height here if you want context-specific sizing */
  /* width: 100%; */
  /* height: 100%; */
  /* Instead, use max-width/max-height in specific contexts */
}

/* Specific sizes for different contexts (adjust as needed) */

/* --- MODIFICATION START --- */
.action-item.dragging {
  /* --- ADD THIS LINE --- */
  position: relative;
  /* --- END ADD --- */

  opacity: 0.9 !important; /* Make it mostly opaque (use 1 for fully opaque) */
  z-index: 9999 !important; /* Bring it to the very front */
  cursor: grabbing !important; /* Ensure grabbing cursor */
  pointer-events: none; /* Prevent interference with drop targets */
}
/* Style the wrapper in the ActionItem for centering AND defining the box */
.action-item .icon-wrapper {
  width: 30px; /* Define the container width */
  height: 30px; /* Define the container height (make it square) */
  margin-bottom: 4px;
  /* display: inline-flex, justify-content, align-items are inherited or already set */
}

/* Style the SVG ICON specifically within the ActionItem */
.action-item .svg-icon {
  /* REMOVE fixed dimensions */
  /* width: 28px; */
  /* height: 28px; */

  /* ADD max dimensions to scale SVG down to fit the wrapper */
  max-width: 100%; /* Max width is the wrapper's width (30px) */
  max-height: 100%; /* Max height is the wrapper's height (30px) */

  /* Ensure it behaves like an image/block for scaling */
  object-fit: contain; /* Good practice, though max-width/height handles it */
  display: block;
}

/* --- MODIFICATION END --- */

.placed-action-icon {
  /* These can remain fixed as they apply to a different context */
  width: 36px;
  height: 36px;
  /* margin-bottom: 5px; */ /* Handled by wrapper style below */
}

.mini-box-icon {
  /* These can remain fixed */
  width: 20px;
  height: 20px;
}

/* .drag-overlay-icon {
  width: 24px;
  height: 24px;
} */

/* Style the wrapper in PlacedAction */
.placed-action .icon-wrapper {
  width: 36px; /* Match the icon size */
  height: 36px;
  margin-bottom: 5px;
}

/* Style the wrapper in MiniBox */
.mini-box .mini-box-icon-wrapper {
  width: 20px; /* Match the icon size */
  height: 20px;
}

/* Recipe Info Form */
/* Around line 141 */
.recipe-info-form {
  /* --- ADD THESE --- */
  flex: 1; /* Allow grow/shrink */
  overflow: auto; /* Add scroll if needed */
  min-height: 0; /* Allow shrinking */
  /* --- END ADD --- */

  background-color: #f9db92;
  padding: 15px;
  border-radius: 15px;
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);
  /* margin-bottom: 20px; */ /* <<< REMOVE or COMMENT OUT this line */
}

.recipe-info-form h2 {
  margin-top: 0;
  margin-bottom: 15px;
  color: #f7a541;
  text-shadow: #000000;
  font-size: 2.5em;
}

.recipe-info-form label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
  color: #f7a541;
}

.recipe-info-form input {
  width: calc(100% - 16px); /* Account for padding */
  padding: 8px;
  margin-bottom: 10px;
  background-color: #fed373;
  border: 1px solid #000000;
  border-radius: 8px;
}

/* Action Palette */
/* Around line 170 */
.action-palette-outer-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  min-height: 0;

  border-radius: 15px;
  /* padding: 20px; */ /* This is overridden below */
  background-color: #f68e3e;
  /* margin-bottom: 20px; */ /* <<< REMOVE or COMMENT OUT this line */
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);

  /* --- Background Image Styles --- */
  background-image: url("./designs/Design-elements-02.png");
  background-size: 320px;
  background-position: center center;
  background-repeat: no-repeat;
  /* background-color: #f68e3e; */ /* Already set above */
  background-blend-mode: multiply;
  padding: 6px 6px; /* Keep this padding */
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
}

.palette-title {
  text-align: center; /* Center the "ICONS" text */
  margin-top: 0; /* Remove default browser margin */
  margin-bottom: 15px; /* Space between title and the inner palette */
  font-size: 2.5em; /* Adjust title size as needed */
  color: #f9db92; /* Adjust title color as needed */
  font-weight: 600;
  /* --- ADD --- */
  flex-shrink: 0; /* Prevent title from shrinking */
  /* --- END ADD --- */
}

.action-palette {
  /* --- ADD --- */
  flex-grow: 1; /* Allow palette to take remaining space in outer container */
  overflow: hidden; /* Allow scrolling within the palette if needed */
  min-height: 0; /* Allow shrinking */
  /* --- END ADD --- */

  /* Optional: Set a fixed height or min-height if desired */
  /* min-height: 300px; */
  display: flex;
  flex-direction: column; /* Stack category nav, list, pagination */
  background-color: #f9db92;
  border: 1px solid #000000;
  border-radius: 15px;
  padding: 10px;
}

.category-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  padding-bottom: 5px;
  border-bottom: 1px solid #000000;
}

.category-title {
  margin: 0 10px;
  font-size: 1.1em;
  font-weight: bold;
  text-align: center;
  flex-grow: 1;
}

.category-arrow,
.pagination-arrow {
  /* Shared styles for arrow buttons */
  background: none;
  border: 1px solid #000000;
  border-radius: 4px;
  padding: 2px 8px;
  font-size: 1.2em;
  cursor: pointer;
  transition: background-color 0.2s;
}

.category-arrow:hover:not(:disabled),
.pagination-arrow:hover:not(:disabled) {
  background-color: #eee;
}

.category-arrow:disabled,
.pagination-arrow:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* --- UPDATED Action List Styling --- */
.action-list.fixed-grid {
  /* Target the list when it's the fixed grid */
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* 2 columns */
  grid-template-rows: repeat(
    2,
    140px
  ); /* 2 rows, 80px height each (adjust as needed) */
  gap: 8px; /* Spacing between action items */
  /* REMOVE flex-grow and overflow-y */
  /* flex-grow: 1; */
  /* overflow-y: auto; */
  /* Set a fixed height based on rows and gap */
  /* height: calc(
    80px * 2 + 8px
  ); */
  /* (row_height * num_rows) + (gap * (num_rows - 1)) */
  align-content: start; /* Align content to the top if fewer than 4 items */
  margin-bottom: 10px; /* Space before pagination */
  /* --- ADD --- */
  flex-shrink: 0; /* Prevent grid itself from shrinking if content fits */
  /* --- END ADD --- */
}

/* Style for placeholder divs to maintain grid structure */
.action-item-placeholder {
  background-color: #f9db92; /* Slightly different background */
}

/* --- Action Item Styling (mostly unchanged, ensure it fits 80px height) --- */
.action-item {
  background-color: #f9db92;
  border: 1px solid #000000;
  border-radius: 4px;
  padding: 5px;
  text-align: center;
  cursor: grab;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center; /* Center content vertically */
  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.552),
    -1px -1px 5px rgba(0, 0, 0, 0.552);
  transition: box-shadow 0.2s ease;
  overflow: hidden; /* Prevent content spilling out */
  height: 100%; /* Make item fill the grid cell height (80px) */
  box-sizing: border-box; /* Include padding/border in height */
}

.action-item p {
  font-size: 1.1em; /* May need adjustment based on 80px height */
  margin: 0;
  line-height: 1.2;

  font-weight: 700;
  color: #333;
  /* Optional text overflow handling */
  white-space: nowrap;
  text-overflow: ellipsis;
  width: 90%; /* Ensure text takes width for ellipsis */
  overflow: hidden;
}

.action-item .icon-wrapper {
  width: 30px; /* Keep icon size consistent */
  height: 30px;
  margin-bottom: 4px;
}

.action-item .svg-icon {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
}

.no-actions-message {
  grid-column: 1 / -1; /* Span across all columns */
  grid-row: 1 / -1; /* Span across all rows */
  text-align: center;
  color: #888;
  padding: 20px;
  align-self: center; /* Center message vertically */
  justify-self: center; /* Center message horizontally */
}

/* --- NEW Pagination Controls Styling --- */
.pagination-controls {
  display: flex;
  justify-content: space-between; /* Pushes arrows to ends */
  align-items: center;
  padding-top: 5px; /* Space above controls */
  border-top: 1px solid #000000; /* Separator line */
}

.page-indicator {
  font-size: 0.9em;
  color: #000000;
  margin: 0 10px; /* Space around the text */
}

/* --- ADD Outer Container for Recipe Grid --- */
.recipe-grid-title > h2 {
  /* Target the direct h2 child */
  text-align: center; /* Center the text */
  margin: 0; /* Remove default top margin if needed */
}

.cooking {
  /* Target the direct h2 child */
  font-size: 1.5em; /* Adjust size as needed */
}

.recipe-grid-outer-container {
  padding: 15px; /* Adjust padding as needed - space between container edge and grid */
  background-color: #f68e3e; /* Optional: Subtle background color */
  border: 1px solid #000000; /* Optional: Border around the grid area */
  border-radius: 15px; /* Match other rounded corners */
  margin-bottom: 20px; /* Keep the space below the grid area */
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);
  /* Ensures the container properly contains the grid, especially if grid uses max-width */
  /* You might not need this depending on exact layout, but often helpful */
  /* display: flow-root; */ /* Alternative: overflow: hidden; */
}
.recipe-grid-title {
  text-align: center; /* Center the title text */
  margin-bottom: 15px; /* Space between title and grid */
  font-size: 2.4em; /* Adjust size as needed */
  color: #f9db92; /* Adjust color as needed */
  border: 1px solid #000000;
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);

  /* --- ADD Background Image Styles --- */
  background-image: url("./designs/Design-elements-01.png"); /* <<< REPLACE with your image path */
  background-size: 1900px; /* Or 'contain', '100% 100%', etc. */
  background-position: center center;
  background-repeat: no-repeat;
  background-color: #f68e3e;
  background-blend-mode: multiply; /* Optional: Blend with the background color */
  padding: 6px 6px; /* ADD padding so text isn't at the very edge */
  border-radius: 15px; /* Optional: Add rounded corners */
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6); /* Optional: Add shadow for readability */
  /* --- END ADD --- */
}

/* --- ADJUST Recipe Grid --- */
.recipe-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: 40px;
  width: 100%; /* Grid takes full width *of its new container* */
  max-width: 650px; /* Max width of the grid itself remains */
  aspect-ratio: 1 / 1; /* Maintain square aspect ratio */
  background-color: #f9db92; /* Background *between* squares */
  padding: 40px; /* Padding *inside* the grid border, around squares */
  border-radius: 15px; /* Inner radius for the grid area */
  /* REMOVE box-shadow: 0 2px 4px rgba(199, 4, 4, 0.1); */ /* Shadow moved to outer container */
  /* REMOVE margin-bottom: 20px; */ /* Margin now handled by outer container */
  border: 1px solid #000000; /* Keep inner border defining grid */
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);
  margin: 0 auto; /* Center the grid horizontally within the outer container if it's wider */
}

/* Grid Square */
.grid-square {
  background-color: #f3c35b;
  border: 1px solid #000000;
  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.552),
    inset -1px -1px 5px rgba(0, 0, 0, 0.552);
  border-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative; /* Needed for positioning elements inside */
  min-height: 80px; /* Ensure squares have a minimum size */
  transition: background-color 0.2s ease;
  overflow: visible !important;
}

.grid-square.over.empty {
  background-color: #f9db92; /* Highlight when dragging over */
  border-style: dashed;
}

.grid-square.empty {
  background-color: #f3c35b;
  border: 1px solid #000000;
  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.552),
    inset -1px -1px 5px rgba(0, 0, 0, 0.552);
}

/* Placed Action */
.placed-action {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 5px;
  width: 100%;
  height: 100%;
  box-sizing: border-box; /* Include padding in size */
  position: relative; /* For positioning the plus button */
  cursor: pointer; /* <-- ADD THIS for visual feedback */
  overflow: visible !important; /* Make absolutely sure overflow is visible */
}
.placed-action.dragging {
  z-index: 9999;
}

/* Placed Action */
.placed-action {
  /* Inherits flex from style prop now */
  /* display: flex; */
  /* flex-direction: column; */
  /* align-items: center; */
  /* justify-content: center; */ /* Use style prop for centering */
  /* padding: 5px; */ /* Use style prop */
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  position: relative; /* Still relative for its own children if needed */
  /* Remove overflow hidden if it was ever added */
}

.placed-action .icon {
  font-size: 1.8em;
  margin-bottom: 5px;
  user-select: none; /* Prevent text selection on icon */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.placed-action .label-input {
  width: calc(100% - 10px);
  font-size: 0.8em;
  text-align: center;
  border: 1px solid #000000;
  border-radius: 5px;
  padding: 3px;
  /* margin-bottom: 5px; */ /* Removed, handled by flex gap or direct style */
  box-sizing: border-box;
  background-color: #f3c35b; /* Ensure it has background */
  z-index: 1; /* Above icon potentially */
}

/* --- REMOVE OR COMMENT OUT Styles for the old container --- */
/*
.mini-boxes-container {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translate(50%, -50%);
  display: flex;
  flex-direction: column;
  gap: 2px;
  background-color: rgba(255, 255, 255, 0.9);
  padding: 4px;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  z-index: 10;
  pointer-events: auto;
}


/* --- ADJUSTED Add Mini Box Button Styling --- */
/* .add-mini-box-button {
   Remove absolute positioning 
   position: absolute; 
   bottom: 2px; 
   right: 2px; 

   Standard button styling 
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 4px; 
   width: 18px; 
   height: 18px;
  padding: 3px 6px;
  font-size: 14px;
   line-height: 16px; 
  cursor: pointer;
  text-align: center;
  margin-top: 5px; 
  align-self: center; 
   z-index: 10; 

  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 3px 6px;
  font-size: 14px;
  cursor: pointer;
  text-align: center;
  margin-top: 5px;
  align-self: center;
} */

/* --- ADD Styles for the new '+' button on PlacedAction --- */
.placed-action .reveal-mini-box-button {
  position: absolute;
  bottom: 3px;
  right: 3px;
  width: 20px;
  height: 20px;
  font-size: 14px;
  line-height: 18px; /* Center '+' vertically */
  text-align: center;
  padding: 0;
  border-radius: 50%;
  background-color: #f3c35b;
  border: 1px solid #000000;
  color: #333;
  cursor: pointer;
  z-index: 5; /* Ensure it's above other content but below drag overlay */
  transition: background-color 0.2s ease;
}

.placed-action .reveal-mini-box-button:hover {
  background-color: #f9db92;
}

/* --- ADJUSTED Mini-Box Container Positioning --- */

/* Box 1: Right (Center) - Stays the same */
.placed-action .mini-box-container-right {
  position: absolute;
  top: 50%;
  left: 100%;
  transform: translateY(-50%);
  margin-left: -10px; /* Overlap */
  z-index: 10;
  pointer-events: auto;
  /* Other base styles */
  display: flex;
  gap: 3px;
  padding: 0;
  background-color: transparent;
  border-radius: 0;
  box-shadow: none;
}

/* Box 2: Above Box 1 */
.placed-action .mini-box-container-top {
  position: absolute;
  bottom: 50%; /* Align bottom edge to the parent's vertical center */
  left: 100%; /* Align left edge to the parent's right edge */
  transform: none; /* Reset transform */
  margin-left: -10px; /* Pull back slightly to overlap (same as right box) */
  /* --- INCREASED MARGIN --- */
  /* Pushes this box UP from the center line */
  /* Calculation: (approx height of middle box / 2) + gap */
  /* (45px / 2) + 3px = 22.5px + 3px = 25.5px -> Use 26px */
  margin-bottom: 26px;

  /* Base styles */
  z-index: 10;
  pointer-events: auto;
  display: flex;
}

/* Box 3: Below Box 1 */
.placed-action .mini-box-container-bottom {
  position: absolute;
  top: 50%; /* Align top edge to the parent's vertical center */
  left: 100%; /* Align left edge to the parent's right edge */
  transform: none; /* Reset transform */
  margin-left: -10px; /* Pull back slightly to overlap (same as right box) */
  /* --- INCREASED MARGIN --- */
  /* Pushes this box DOWN from the center line */
  /* Calculation: (approx height of middle box / 2) + gap */
  /* (45px / 2) + 3px = 22.5px + 3px = 25.5px -> Use 26px */
  margin-top: 26px;

  /* Base styles */
  z-index: 10;
  pointer-events: auto;
  display: flex;
}

/* --- End Mini-Box Container Positioning --- */

.add-mini-box-button:hover {
  background-color: #45a049;
}

/* --- Styles for the MiniBox itself (apply universally) --- */
.mini-box {
  border: 1px solid #000000;
  background-color: #f3c35b;
  padding: 4px 6px;
  min-height: 35px;
  min-width: 40px;
  display: flex;
  align-items: center;
  justify-content: center; /* Center content */
  border-radius: 3px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer; /* Keep pointer cursor */
  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.263),
    inset -1px -1px 5px rgba(0, 0, 0, 0.263);
}

.mini-box.empty {
  background-color: #f3c35b; /* Lighter background when empty */
}

.mini-box.empty .mini-box-placeholder {
  color: #999;
  font-size: 0.7em;
  text-align: center;
  width: 100%;
}

/* .mini-box:not(.empty) {
  border-style: solid; 
  border-color: #bbb;
} */

/* Highlight when dragging over */
.mini-box.over {
  border-color: dodgerblue;
  border-style: solid;
  background-color: #e0f0ff;
}

.mini-box-content {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}

.mini-box-icon {
  font-size: 1.1em;
}

/* .mini-box-placeholder {
  font-size: 0.7em;
  color: #888;
  font-style: italic;
} */

/* .mini-box-delete-button {
  background: none;
  border: none;
  color: #aaa;
  cursor: pointer;
  font-size: 1.3em;
  line-height: 1;
  padding: 0 2px;
  margin-left: 4px; 
}

.mini-box-delete-button:hover {
  color: #f00;
} */

.mini-box input {
  flex-grow: 1;
  font-size: 0.9em; /* Relative to container */
  border: 1px solid #ccc;
  padding: 3px 4px;
  border-radius: 3px;
  /* margin-right: 3px; */ /* Use gap instead */
}

/* .mini-box button {
  background: #ff4d4d;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  font-size: 0.8em;
  padding: 2px 5px; 
  line-height: 1; 
} */

/* Drag Overlay */
.drag-overlay {
  opacity: 0.7;
  cursor: grabbing;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 9999; /* Ensure it's on top */
}

.drag-overlay p {
  font-size: 1.1em;
  margin: 0;
  line-height: 1.2;
  font-weight: 700;
  color: #333;
  white-space: nowrap;
  text-overflow: ellipsis;
  width: 90%; /* Ensure text takes width for ellipsis */
  overflow: hidden;
}

.drag-overlay .icon-wrapper {
  width: 30px; /* Match action item icon size */
  height: 30px;
  margin-bottom: 4px;
  /* Ensure flex properties if not inherited */
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.drag-overlay .svg-icon {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
}

/* Buttons */
.action-buttons {
  margin-top: 20px;
  display: flex;
  gap: 10px;
  justify-content: center; /* Center buttons */
}

.action-buttons button {
  padding: 10px 20px;
  font-size: 1.7em;
  font-family: "MyFont", sans-serif;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.serve-button {
  background-color: #f7a541;
  border: 2px solid #000000;
  color: #f9db92;
  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.263),
    inset -1px -1px 5px rgba(0, 0, 0, 0.263);
}

.serve-button:hover {
  background-color: #f3c35b;
}

.print-button {
  background-color: #f7a541;
  border: 2px solid #000000;
  color: #f9db92;
  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.263),
    inset -1px -1px 5px rgba(0, 0, 0, 0.263);
}

.print-button:hover {
  background-color: #f3c35b;
}

/* Summary Modal */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: #f68e3e;
  padding: 30px;
  border-radius: 8px;
  max-width: 80%;
  max-height: 80%;
  overflow-y: auto;
  box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.552),
    inset -3px -3px 5px rgba(0, 0, 0, 0.552);
  position: relative;
}

.modal-close-button {
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 1.5em;
  cursor: pointer;
  color: #000000;
}
.modal-close-button:hover {
  color: #333;
}

.modal-content h2 {
  margin-top: 0;
  color: #f9db92;
}

.summary-text {
  white-space: pre-wrap; /* Preserve formatting */
  margin-bottom: 20px;
  line-height: 1.6;
  color: #444;
}

.qr-code-container {
  text-align: center;
  margin-top: 20px;
}

.qr-code-container p {
  margin-bottom: 10px;
  color: #f9db92;
}

/* Print Styles */
@media print {
  body {
    margin: 0;
  }
  .app-container {
    flex-direction: column; /* Stack elements for printing */
  }
  .left-panel,
  .action-buttons,
  .modal-overlay,
  .no-print {
    /* Hide non-essential elements */
    display: none !important; /* Important to override inline styles if any */
  }
  .right-panel {
    flex: none; /* Reset flex */
    width: 100%;
    /* --- ADD: Ensure no extra padding/margin interferes --- */
    padding: 0;
    margin: 0;
    box-sizing: border-box; /* Be explicit */
  }
  .recipe-grid {
    box-shadow: none;

    max-width: 100%; /* Keep this */
    page-break-inside: avoid;

    /* --- ADD/OVERRIDE these properties --- */
    width: auto; /* Ensure it tries to use full width */

    aspect-ratio: 1 / 1; /* Allow it to be non-square */

    margin: 0 auto; /* Center if needed, or just margin: 0; */
    box-sizing: border-box; /* Be explicit */
    /* Optional: Adjust min-height if rows become too small */
    /* grid-template-rows: repeat(5, minmax(80px, auto)); */

    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(5, 1fr);
  }
  .grid-square {
    /* background-color: #fff !important; */ /* Causes white background */
    display: flex; /* Keep flex for centering empty state text */
    justify-content: center;
    align-items: center;
    position: relative; /* CRUCIAL: Parent for absolute positioning */
    /* min-height: 80px; */
    transition: none;
    overflow: visible; /* Allow absolutely positioned children to show outside */
    box-sizing: border-box; /* Be explicit */
    overflow: visible !important;
  }
  .placed-action {
    /* ... other placed-action print styles ... */
    /* --- ADD THIS --- */
    position: relative; /* Crucial for absolute positioning of mini-boxes */
    /* --- END ADD --- */
    border: none;
    box-shadow: none;
    background-color: transparent;
  }

  /* --- Style Print Containers by Position --- */
  .placed-action .mini-box-container-right,
  .placed-action .mini-box-container-top,
  .placed-action .mini-box-container-bottom {
    display: flex;
    position: absolute;
    transform: none;
    z-index: 5;
    background-color: transparent;
    box-shadow: none;
    padding: 0;
    gap: 2px;
    border: none;
    margin: 0;
  }

  /* --- VERIFY/ADJUST THESE RULES --- */
  /* Box 1: Right (Center) - Print */
  .placed-action .mini-box-container-right {
    top: 50%;
    transform: translateY(-50%);
    left: 100%;
    margin-left: 2px; /* Adjust for print gap/overlap */
  }

  /* Box 2: Above Box 1 - Print */
  .placed-action .mini-box-container-top {
    bottom: 50%; /* Align bottom to parent vertical center */
    left: 100%; /* Align left to parent right edge */
    transform: none;
    margin-left: 2px; /* Align horizontally */
    /* This value pushes it UP from the center line */
    margin-bottom: 20px; /* Adjust if needed for print spacing */
  }

  /* Box 3: Below Box 1 - Print */
  .placed-action .mini-box-container-bottom {
    top: 50%; /* Align top to parent vertical center */
    left: 100%; /* Align left to parent right edge */
    transform: none;
    margin-left: 2px; /* Align horizontally */
    /* This value pushes it DOWN from the center line */
    margin-top: 20px; /* Adjust if needed for print spacing */
  }
  /* --- End Print Container Styles --- */

  /* Hide the '+' button on placed actions */
  .placed-action .reveal-mini-box-button {
    display: none !important;
  }

  .placed-action .label-input {
    border: none; /* Make inputs look like text */
    background-color: transparent;
    padding: 1px; /* Minimal padding */
    width: 95%; /* Adjust width slightly if needed */
  }

  /* Ensure icons are visible */
  .placed-action .icon {
    display: block; /* Ensure it's displayed */
  }

  /* Hide placeholders in empty squares */
  .grid-square.empty .empty-placeholder {
    display: none;
  }

  /* Hide mini-box delete button in print */
  .mini-box-delete-button {
    display: none !important;
  }

  /* --- Adjust MiniBox itself for Print --- */
  .mini-box {
    padding: 3px 5px;
    min-height: 28px;
    min-width: 32px;
    line-height: 1.2;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    box-shadow: none; /* No shadow in print */
  }

  .mini-box-placeholder {
    display: none;
  }

  .mini-box-icon {
    /* --- INCREASE Icon Size --- */
    font-size: 1.4em; /* Increased from 0.9em, closer to live view */
    display: inline-block;
    vertical-align: middle;
  }
  /* --- End Mini-Box Adjustments --- */

  /* Ensure the original add button is also hidden if separate */
  .add-mini-box-button {
    /* This might hide the one in the container too, which is fine for print */
    display: none !important;
  }
  .placed-action .label-input,
  .mini-box input {
    border: none; /* Make inputs look like text */
    background-color: transparent;
  }
  .mini-box button {
    display: none; /* Hide mini-box delete button */
  }
}
